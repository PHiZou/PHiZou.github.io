---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/Hero.astro";
import SkillsOverview from "../components/SkillsOverview.astro";
import ProjectGrid from "../components/ProjectGrid.astro";
import { getCollection } from "astro:content";

const allProjects = await getCollection("projects");

// Feature a mix of real projects, prioritizing ones with actual content
const featuredSlugs = [
  "text-prediction-ml",
  "d3-visualizations-portfolio",
  "futbol-league-explorer",
  "ai-pipeline-operational-insights",
];

const featuredProjects = featuredSlugs
  .map((slug) => allProjects.find((p) => p.slug === slug))
  .filter(Boolean)
  .map((project) => ({
    title: project.data.title,
    slug: project.slug,
    type: project.data.type,
    summary: project.data.summary,
    tags: project.data.tags || [],
  }));
---

<BaseLayout>
  <Hero />
  <SkillsOverview />
  <ProjectGrid projects={featuredProjects} />

  <section class="border-b border-slate-800 bg-slate-950">
    <div class="mx-auto max-w-5xl px-4 py-14 sm:px-6 lg:px-8">
      <header class="mb-6 flex flex-col justify-between gap-3 sm:flex-row sm:items-end">
        <h2 class="text-sm font-semibold uppercase tracking-[0.2em] text-teal-300">
          Live Projects
        </h2>
        <a
          href="/projects#live-projects"
          class="text-xs font-semibold text-teal-300 hover:text-teal-200"
        >
          View all live projects →
        </a>
      </header>
      <div class="space-y-3">
        <div>
          <a
            href="https://ai-job-market-dashboard.vercel.app/projects/job-market-dashboard"
            target="_blank"
            rel="noopener noreferrer"
            class="group inline-flex items-baseline gap-1.5 text-sm font-medium text-slate-100 hover:text-teal-300"
          >
            <span>AI Job Market Intelligence Dashboard</span>
            <span class="text-slate-400 group-hover:text-teal-300">↗</span>
          </a>
          <p class="mt-0.5 text-xs text-slate-400">
            Real-time aggregation and trend analysis of AI/ML job postings and skill demand
          </p>
        </div>
        <div>
          <a
            href="https://daily-poem-xi.vercel.app/20251212_175550"
            target="_blank"
            rel="noopener noreferrer"
            class="group inline-flex items-baseline gap-1.5 text-sm font-medium text-slate-100 hover:text-teal-300"
          >
            <span>AI Writing &amp; Content Experiment</span>
            <span class="text-slate-400 group-hover:text-teal-300">↗</span>
          </a>
          <p class="mt-0.5 text-xs text-slate-400">
            Experimental LLM content generation pipeline testing prompt engineering approaches
          </p>
        </div>
        <div>
          <a
            href="https://phizou.github.io/DMV-Company-Research-Vault/"
            target="_blank"
            rel="noopener noreferrer"
            class="group inline-flex items-baseline gap-1.5 text-sm font-medium text-slate-100 hover:text-teal-300"
          >
            <span>DMV Company Research Vault</span>
            <span class="text-slate-400 group-hover:text-teal-300">↗</span>
          </a>
          <p class="mt-0.5 text-xs text-slate-400">
            Graph-structured research database mapping DC metro tech and GovCon ecosystem
          </p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

